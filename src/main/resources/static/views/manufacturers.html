<div>
    <h2>üè≠ Manufacturers</h2>

    <!-- Search and Filter Section -->
    <div class="card mb-3">
        <div class="card-header">
            <h5>Search & Filter</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-5">
                    <label>Search by Brand</label>
                    <input type="text" class="form-control" ng-model="searchTerm" ng-change="search()" placeholder="Enter brand name...">
                </div>
                <div class="col-md-4">
                    <label>Origin</label>
                    <select class="form-select" ng-model="originFilter" ng-change="filterByOrigin()">
                        <option value="">All Origins</option>
                        <option value="Australian Made">Australian Made</option>
                        <option value="Imported">Imported</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label>&nbsp;</label>
                    <button class="btn btn-secondary w-100" ng-click="loadManufacturers()">Clear Search</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Actions -->
    <div class="mb-3">
        <a href="#!/manufacturers/new" class="btn btn-success">+ Add New Manufacturer</a>
        <span class="float-end">Total: {{filteredManufacturers.length}} manufacturers</span>
    </div>

    <!-- Manufacturers Table -->
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Brand</th>
                    <th>Origin</th>
                    <th>Website</th>
                    <th>Known For</th>
                    <th>Key Models</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="manufacturer in filteredManufacturers">
                    <td><strong>{{manufacturer.brand}}</strong></td>
                    <td>
                        <span class="badge" ng-class="{'bg-success': manufacturer.origin === 'Australian Made', 'bg-info': manufacturer.origin === 'Imported'}">
                            {{manufacturer.origin}}
                        </span>
                    </td>
                    <td>
                        <a ng-if="manufacturer.website" href="{{manufacturer.website}}" target="_blank" class="btn btn-sm btn-outline-primary">
                            Visit Website
                        </a>
                        <span ng-if="!manufacturer.website" class="text-muted">-</span>
                    </td>
                    <td>{{manufacturer.knownFor || '-'}}</td>
                    <td>{{manufacturer.keyModels || '-'}}</td>
                    <td>
                        <a href="#!/manufacturers/edit/{{manufacturer.id}}" class="btn btn-sm btn-primary">Edit</a>
                        <button class="btn btn-sm btn-danger" ng-click="deleteManufacturer(manufacturer.id)">Delete</button>
                    </td>
                </tr>
                <tr ng-if="filteredManufacturers.length === 0">
                    <td colspan="6" class="text-center">No manufacturers found</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Australian Made Manufacturers Section -->
    <div class="card mt-4">
        <div class="card-header bg-success text-white">
            <h5>Australian Made Manufacturers</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <ul class="list-unstyled">
                        <li ng-repeat="manufacturer in filteredManufacturers | filter: {origin: 'Australian Made'}">
                            <strong>{{manufacturer.brand}}</strong>
                            <span ng-if="manufacturer.website"> - <a href="{{manufacturer.website}}" target="_blank">{{manufacturer.website}}</a></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Imported Manufacturers Section -->
    <div class="card mt-3">
        <div class="card-header bg-info text-white">
            <h5>Imported Manufacturers</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-12">
                    <ul class="list-unstyled">
                        <li ng-repeat="manufacturer in filteredManufacturers | filter: {origin: 'Imported'}">
                            <strong>{{manufacturer.brand}}</strong>
                            <span ng-if="manufacturer.website"> - <a href="{{manufacturer.website}}" target="_blank">{{manufacturer.website}}</a></span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
